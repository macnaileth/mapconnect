(()=>{"use strict";var e,t={980:()=>{const e=window.wp.blocks,t=window.React,a=window.wp.i18n,c=window.wp.blockEditor,s=window.wp.data,o=window.wp.coreData,l=window.wp.components;window.wp.element;const n=JSON.parse('{"N9":"tsum-metafields/tsu-mapconnect-meta-block"}');(0,e.registerBlockType)(n.N9,{edit:function(){const e=(0,c.useBlockProps)(),n=(0,s.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[r,m]=(0,o.useEntityProp)("postType",n,"meta"),i={name:r._meta_fields_tsum_areaname,pcodes:r._meta_fields_tsum_areapcs,logo:r._meta_fields_tsum_arealogo,description:r._meta_fields_tsum_areadesc,contact:r._meta_fields_tsum_areacontact,link:r._meta_fields_tsum_arealink,activities:r._meta_fields_tsum_areaactivities,socmedia:r._meta_fields_tsum_areasocmedia},_=(e,t)=>{switch(t){case"name":m({...r,_meta_fields_tsum_areaname:e});break;case"pcodes":let t=u(e);m({...r,_meta_fields_tsum_areapcs:t});break;case"logo":m({...r,_meta_fields_tsum_arealogo:e});break;case"description":m({...r,_meta_fields_tsum_areadesc:e});break;case"contact":m({...r,_meta_fields_tsum_areacontact:e});break;case"link":m({...r,_meta_fields_tsum_arealink:e});break;case"activities":let a=d(e);m({...r,_meta_fields_tsum_areaactivities:a});break;case"socmedia":m({...r,_meta_fields_tsum_areasocmedia:e})}},u=e=>{const t=e.charAt(e.length-1),a=e.charAt(e.length-2);return","===t&&t===a&&(e=e.replace(/.$/,"")),e.replace(/[^\d,]+/g,"")},d=e=>{const t=e.charAt(e.length-1),a=e.charAt(e.length-2);return","===t&&t===a&&(e=e.replace(/.$/,""))," "===t&&","===a&&(e=e.replace(/.$/,"")),","===t&&" "===a&&(e=e.slice(0,e.length-2)+e.slice(e.length-1)),e};return(0,t.createElement)("div",{...e},(0,t.createElement)("h3",null,(0,a.__)("Mapconnect Metadata block","tsu-mapconnect")),(0,t.createElement)("div",{className:"tsum-metablock-container"},(0,t.createElement)("div",{className:"tsum-metablock-left"},(0,t.createElement)(l.TextControl,{className:"tsum-textcontrol",label:(0,a.__)("Area name","tsu-mapconnect"),value:i.name,onChange:e=>{_(e,"name")}}),(0,t.createElement)(l.TextControl,{className:"tsum-textcontrol",label:(0,a.__)("Area postcodes (comma-separated)","tsu-mapconnect"),value:i.pcodes,onChange:e=>{_(e,"pcodes")}}),(0,t.createElement)(l.TextControl,{className:"tsum-textcontrol",label:(0,a.__)("Area link","tsu-mapconnect"),value:i.link,onChange:e=>{_(e,"link")}})),(0,t.createElement)("div",{className:"tsum-metablock-right"},(0,t.createElement)(l.TextControl,{className:"tsum-textcontrol",label:(0,a.__)("Contact email","tsu-mapconnect"),value:i.contact,onChange:e=>{_(e,"contact")}}),(0,t.createElement)(l.TextControl,{className:"tsum-textcontrol",label:(0,a.__)("Area logo (numeric id or link)","tsu-mapconnect"),value:i.logo,onChange:e=>{_(e,"logo")}}),(0,t.createElement)(l.TextControl,{className:"tsum-textcontrol",label:(0,a.__)("Activities (comma-separated)","tsu-mapconnect"),value:i.activities,onChange:e=>{_(e,"activities")}})),(0,t.createElement)("div",{className:"tsum-metablock-wrapper"},(0,t.createElement)("div",{className:"tsum-pseudolabel"},(0,a.__)("Descriptive text","tsu-mapconnect")),(0,t.createElement)("div",{className:"tsum-metablock-desc"},(0,t.createElement)(c.RichText,{className:"tsum-richtext",tagName:"p",onChange:e=>{_(e,"description")},allowedFormats:["core/bold","core/italic","core/link"],value:i.description,placeholder:(0,a.__)("Description of your area","tsu-mapconnect")})))),(0,t.createElement)("div",{className:"tsum-remark-small"},(0,t.createElement)("i",null,(0,a.__)("This block is not rendered. It is only for storing metadata for your mapping needs which will be sent via the REST API.","tsu-mapconnect"))))}})}},a={};function c(e){var s=a[e];if(void 0!==s)return s.exports;var o=a[e]={exports:{}};return t[e](o,o.exports,c),o.exports}c.m=t,e=[],c.O=(t,a,s,o)=>{if(!a){var l=1/0;for(i=0;i<e.length;i++){for(var[a,s,o]=e[i],n=!0,r=0;r<a.length;r++)(!1&o||l>=o)&&Object.keys(c.O).every((e=>c.O[e](a[r])))?a.splice(r--,1):(n=!1,o<l&&(l=o));if(n){e.splice(i--,1);var m=s();void 0!==m&&(t=m)}}return t}o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[a,s,o]},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={656:0,564:0};c.O.j=t=>0===e[t];var t=(t,a)=>{var s,o,[l,n,r]=a,m=0;if(l.some((t=>0!==e[t]))){for(s in n)c.o(n,s)&&(c.m[s]=n[s]);if(r)var i=r(c)}for(t&&t(a);m<l.length;m++)o=l[m],c.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return c.O(i)},a=globalThis.webpackChunktsu_mapconnect_meta_block=globalThis.webpackChunktsu_mapconnect_meta_block||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var s=c.O(void 0,[564],(()=>c(980)));s=c.O(s)})();